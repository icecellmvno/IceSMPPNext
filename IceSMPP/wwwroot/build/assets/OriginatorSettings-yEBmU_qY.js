import{r as v,m as y,j as e}from"./App-CmqUjaN5.js";import{B as a}from"./button-P3a7UsiS.js";import{I as f}from"./input-BNaBDwi7.js";import{L as s}from"./label-BEB_8ICF.js";import{T as C}from"./textarea-CYa3ItW1.js";import{S as U}from"./switch-C-_rdssw.js";import{B as q}from"./badge-kuerOQjQ.js";import{C as G,a as J,b as K,c as Q,d as W}from"./card-W6xDAvb4.js";import{D as O,a as S,b as N,c as b,d as T,e as D}from"./dialog-dFOvoa_K.js";import{S as E,a as F,b as _,c as A,d as n}from"./select-BwHXfXYN.js";import{T as X,a as Y,b as k,c as h,d as Z,e as x}from"./table-D_1QihfK.js";import{P as $}from"./plus-CG7YYuFa.js";import"./index-cPx927kp.js";import"./index-CoAmXZ53.js";import"./index-CgeA6eXF.js";import"./index-BJ4xYr-b.js";import"./index-8L4t-OO9.js";import"./createLucideIcon-DiUTaDX6.js";import"./Combination-DIdNSm4m.js";import"./index-MP6m9tZ7.js";import"./index-CZ-wKduk.js";function Ce({customer:m}){var g;const[w,c]=v.useState(!1),[u,o]=v.useState(null),{data:p,setData:j,post:B,processing:H,errors:i,reset:I}=y({title:"",type:"alfanumeric",notes:""}),{data:d,setData:l,put:P,processing:M,errors:r,reset:V}=y({title:"",type:"alfanumeric",is_active:!0,notes:""}),L=t=>{t.preventDefault(),B(route("customers.originators.store",m),{onSuccess:()=>{c(!1),I()}})},R=t=>{t.preventDefault(),P(route("customers.originators.update",[m,u]),{onSuccess:()=>{o(null),V()}})},z=t=>{l({title:t.title,type:t.type,is_active:t.is_active,notes:t.notes||""}),o(t.id)};return e.jsxs(e.Fragment,{children:[e.jsxs(G,{children:[e.jsx(J,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(K,{children:"Originators"}),e.jsx(Q,{children:"Manage SMS originators for this customer"})]}),e.jsxs(a,{onClick:()=>c(!0),children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Add Originator"]})]})}),e.jsx(W,{children:e.jsxs(X,{children:[e.jsx(Y,{children:e.jsxs(k,{children:[e.jsx(h,{children:"Title"}),e.jsx(h,{children:"Type"}),e.jsx(h,{children:"Status"}),e.jsx(h,{children:"Actions"})]})}),e.jsx(Z,{children:(g=m.originators)==null?void 0:g.map(t=>e.jsxs(k,{children:[e.jsx(x,{className:"font-medium",children:t.title}),e.jsx(x,{children:t.type}),e.jsx(x,{children:e.jsx(q,{variant:t.is_active?"success":"secondary",children:t.is_active?"Active":"Inactive"})}),e.jsx(x,{children:e.jsx(a,{variant:"outline",size:"sm",onClick:()=>z(t),children:"Edit"})})]},t.id))})]})})]}),e.jsx(O,{open:w,onOpenChange:c,children:e.jsxs(S,{children:[e.jsxs(N,{children:[e.jsx(b,{children:"Add Originator"}),e.jsx(T,{children:"Create a new SMS originator for this customer"})]}),e.jsxs("form",{onSubmit:L,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"title",children:"Title"}),e.jsx(f,{id:"title",value:p.title,onChange:t=>j("title",t.target.value),placeholder:"Enter originator title"}),i.title&&e.jsx("p",{className:"text-sm text-destructive",children:i.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"type",children:"Type"}),e.jsxs(E,{value:p.type,onValueChange:t=>j("type",t),children:[e.jsx(F,{children:e.jsx(_,{placeholder:"Select type"})}),e.jsxs(A,{children:[e.jsx(n,{value:"alfanumeric",children:"Alphanumeric"}),e.jsx(n,{value:"numeric",children:"Numeric"}),e.jsx(n,{value:"shortcode",children:"Shortcode"})]})]}),i.type&&e.jsx("p",{className:"text-sm text-destructive",children:i.type})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"notes",children:"Notes"}),e.jsx(C,{id:"notes",value:p.notes,onChange:t=>j("notes",t.target.value)}),i.notes&&e.jsx("p",{className:"text-sm text-destructive",children:i.notes})]}),e.jsxs(D,{children:[e.jsx(a,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Cancel"}),e.jsx(a,{type:"submit",disabled:H,children:"Create Originator"})]})]})]})}),e.jsx(O,{open:u!==null,onOpenChange:()=>o(null),children:e.jsxs(S,{children:[e.jsxs(N,{children:[e.jsx(b,{children:"Edit Originator"}),e.jsx(T,{children:"Update originator settings"})]}),e.jsxs("form",{onSubmit:R,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"edit-title",children:"Title"}),e.jsx(f,{id:"edit-title",value:d.title,onChange:t=>l("title",t.target.value),placeholder:"Enter originator title"}),r.title&&e.jsx("p",{className:"text-sm text-destructive",children:r.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"edit-type",children:"Type"}),e.jsxs(E,{value:d.type,onValueChange:t=>l("type",t),children:[e.jsx(F,{children:e.jsx(_,{placeholder:"Select type"})}),e.jsxs(A,{children:[e.jsx(n,{value:"alfanumeric",children:"Alphanumeric"}),e.jsx(n,{value:"numeric",children:"Numeric"}),e.jsx(n,{value:"shortcode",children:"Shortcode"})]})]}),r.type&&e.jsx("p",{className:"text-sm text-destructive",children:r.type})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{id:"edit-is_active",checked:d.is_active,onCheckedChange:t=>l("is_active",t)}),e.jsx(s,{htmlFor:"edit-is_active",children:"Active"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{htmlFor:"edit-notes",children:"Notes"}),e.jsx(C,{id:"edit-notes",value:d.notes,onChange:t=>l("notes",t.target.value)}),r.notes&&e.jsx("p",{className:"text-sm text-destructive",children:r.notes})]}),e.jsxs(D,{children:[e.jsx(a,{type:"button",variant:"outline",onClick:()=>o(null),children:"Cancel"}),e.jsx(a,{type:"submit",disabled:M,children:"Save Changes"})]})]})]})})]})}export{Ce as default};
